<Window x:Class="VoiceToText.App.Views.StatusIndicator"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="VoiceToText Status"
        Width="60" Height="60"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        WindowStartupLocation="Manual">

    <Window.Resources>
        <!-- Pulse animation for processing state -->
        <Storyboard x:Key="PulseAnimation" RepeatBehavior="Forever">
            <DoubleAnimation
                Storyboard.TargetName="ProcessingIcon"
                Storyboard.TargetProperty="Opacity"
                From="1.0" To="0.4" Duration="0:0:0.6"
                AutoReverse="True"/>
        </Storyboard>
    </Window.Resources>

    <Border CornerRadius="12"
            Background="#CC333333"
            BorderBrush="#66FFFFFF"
            BorderThickness="1">
        <Grid>
            <!-- Idle: Gray microphone -->
            <Path x:Name="IdleIcon"
                  Data="M12,2C10.34,2 9,3.34 9,5V11C9,12.66 10.34,14 12,14C13.66,14 15,12.66 15,11V5C15,3.34 13.66,2 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7C7,13.76 9.24,16 12,16C14.76,16 17,13.76 17,11H19Z"
                  Fill="#AAAAAA"
                  Stretch="Uniform"
                  Width="28" Height="28"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  Visibility="Visible"/>

            <!-- Recording: Red microphone + level meter -->
            <Grid x:Name="RecordingPanel" Visibility="Collapsed">
                <!-- Microphone icon (left side, slightly smaller) -->
                <Path Data="M12,2C10.34,2 9,3.34 9,5V11C9,12.66 10.34,14 12,14C13.66,14 15,12.66 15,11V5C15,3.34 13.66,2 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7C7,13.76 9.24,16 12,16C14.76,16 17,13.76 17,11H19Z"
                      Fill="#F44336"
                      Stretch="Uniform"
                      Width="22" Height="22"
                      HorizontalAlignment="Left"
                      VerticalAlignment="Center"
                      Margin="8,0,0,0"/>

                <!-- Level meter (right side) -->
                <Grid HorizontalAlignment="Right"
                      VerticalAlignment="Center"
                      Margin="0,0,10,0"
                      Width="8" Height="32">

                    <!-- Background (dark bar) -->
                    <Border Background="#444444"
                            CornerRadius="2"/>

                    <!-- Active level (green bar) -->
                    <Border x:Name="LevelBar"
                            Background="#4CAF50"
                            CornerRadius="2"
                            VerticalAlignment="Bottom"
                            Height="0"/>
                </Grid>
            </Grid>

            <!-- Processing: Amber pulsing circle -->
            <Path x:Name="ProcessingIcon"
                  Data="M12,2C10.34,2 9,3.34 9,5V11C9,12.66 10.34,14 12,14C13.66,14 15,12.66 15,11V5C15,3.34 13.66,2 12,2M19,11C19,14.53 16.39,17.44 13,17.93V21H11V17.93C7.61,17.44 5,14.53 5,11H7C7,13.76 9.24,16 12,16C14.76,16 17,13.76 17,11H19Z"
                  Fill="#FFA000"
                  Stretch="Uniform"
                  Width="28" Height="28"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  Visibility="Collapsed"/>

            <!-- Done: Green checkmark -->
            <Path x:Name="DoneIcon"
                  Data="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"
                  Fill="#4CAF50"
                  Stretch="Uniform"
                  Width="28" Height="28"
                  HorizontalAlignment="Center"
                  VerticalAlignment="Center"
                  Visibility="Collapsed"/>
        </Grid>
    </Border>
</Window>
